{"ast":null,"code":"const t = \"http://www.w3.org/2000/svg\";\n\nclass e {\n  constructor(t) {\n    this.seed = t;\n  }\n\n  next() {\n    return this.seed ? (2 ** 31 - 1 & (this.seed = Math.imul(48271, this.seed))) / 2 ** 31 : Math.random();\n  }\n\n}\n\nfunction s(t, e, s, i, n) {\n  return {\n    type: \"path\",\n    ops: c(t, e, s, i, n)\n  };\n}\n\nfunction i(t, e, i) {\n  const n = (t || []).length;\n\n  if (n > 2) {\n    const s = [];\n\n    for (let e = 0; e < n - 1; e++) s.push(...c(t[e][0], t[e][1], t[e + 1][0], t[e + 1][1], i));\n\n    return e && s.push(...c(t[n - 1][0], t[n - 1][1], t[0][0], t[0][1], i)), {\n      type: \"path\",\n      ops: s\n    };\n  }\n\n  return 2 === n ? s(t[0][0], t[0][1], t[1][0], t[1][1], i) : {\n    type: \"path\",\n    ops: []\n  };\n}\n\nfunction n(t, e, s, n, o) {\n  return function (t, e) {\n    return i(t, !0, e);\n  }([[t, e], [t + s, e], [t + s, e + n], [t, e + n]], o);\n}\n\nfunction o(t, e, s, i, n) {\n  return function (t, e, s, i) {\n    const [n, o] = l(i.increment, t, e, i.rx, i.ry, 1, i.increment * h(.1, h(.4, 1, s), s), s);\n    let r = f(n, null, s);\n\n    if (!s.disableMultiStroke) {\n      const [n] = l(i.increment, t, e, i.rx, i.ry, 1.5, 0, s),\n            o = f(n, null, s);\n      r = r.concat(o);\n    }\n\n    return {\n      estimatedPoints: o,\n      opset: {\n        type: \"path\",\n        ops: r\n      }\n    };\n  }(t, e, n, function (t, e, s) {\n    const i = Math.sqrt(2 * Math.PI * Math.sqrt((Math.pow(t / 2, 2) + Math.pow(e / 2, 2)) / 2)),\n          n = Math.max(s.curveStepCount, s.curveStepCount / Math.sqrt(200) * i),\n          o = 2 * Math.PI / n;\n    let r = Math.abs(t / 2),\n        h = Math.abs(e / 2);\n    const c = 1 - s.curveFitting;\n    return r += a(r * c, s), h += a(h * c, s), {\n      increment: o,\n      rx: r,\n      ry: h\n    };\n  }(s, i, n)).opset;\n}\n\nfunction r(t) {\n  return t.randomizer || (t.randomizer = new e(t.seed || 0)), t.randomizer.next();\n}\n\nfunction h(t, e, s, i = 1) {\n  return s.roughness * i * (r(s) * (e - t) + t);\n}\n\nfunction a(t, e, s = 1) {\n  return h(-t, t, e, s);\n}\n\nfunction c(t, e, s, i, n, o = !1) {\n  const r = o ? n.disableMultiStrokeFill : n.disableMultiStroke,\n        h = u(t, e, s, i, n, !0, !1);\n  if (r) return h;\n  const a = u(t, e, s, i, n, !0, !0);\n  return h.concat(a);\n}\n\nfunction u(t, e, s, i, n, o, h) {\n  const c = Math.pow(t - s, 2) + Math.pow(e - i, 2),\n        u = Math.sqrt(c);\n  let f = 1;\n  f = u < 200 ? 1 : u > 500 ? .4 : -.0016668 * u + 1.233334;\n  let l = n.maxRandomnessOffset || 0;\n  l * l * 100 > c && (l = u / 10);\n  const g = l / 2,\n        d = .2 + .2 * r(n);\n\n  let p = n.bowing * n.maxRandomnessOffset * (i - e) / 200,\n      _ = n.bowing * n.maxRandomnessOffset * (t - s) / 200;\n\n  p = a(p, n, f), _ = a(_, n, f);\n\n  const m = [],\n        w = () => a(g, n, f),\n        v = () => a(l, n, f);\n\n  return o && (h ? m.push({\n    op: \"move\",\n    data: [t + w(), e + w()]\n  }) : m.push({\n    op: \"move\",\n    data: [t + a(l, n, f), e + a(l, n, f)]\n  })), h ? m.push({\n    op: \"bcurveTo\",\n    data: [p + t + (s - t) * d + w(), _ + e + (i - e) * d + w(), p + t + 2 * (s - t) * d + w(), _ + e + 2 * (i - e) * d + w(), s + w(), i + w()]\n  }) : m.push({\n    op: \"bcurveTo\",\n    data: [p + t + (s - t) * d + v(), _ + e + (i - e) * d + v(), p + t + 2 * (s - t) * d + v(), _ + e + 2 * (i - e) * d + v(), s + v(), i + v()]\n  }), m;\n}\n\nfunction f(t, e, s) {\n  const i = t.length,\n        n = [];\n\n  if (i > 3) {\n    const o = [],\n          r = 1 - s.curveTightness;\n    n.push({\n      op: \"move\",\n      data: [t[1][0], t[1][1]]\n    });\n\n    for (let e = 1; e + 2 < i; e++) {\n      const s = t[e];\n      o[0] = [s[0], s[1]], o[1] = [s[0] + (r * t[e + 1][0] - r * t[e - 1][0]) / 6, s[1] + (r * t[e + 1][1] - r * t[e - 1][1]) / 6], o[2] = [t[e + 1][0] + (r * t[e][0] - r * t[e + 2][0]) / 6, t[e + 1][1] + (r * t[e][1] - r * t[e + 2][1]) / 6], o[3] = [t[e + 1][0], t[e + 1][1]], n.push({\n        op: \"bcurveTo\",\n        data: [o[1][0], o[1][1], o[2][0], o[2][1], o[3][0], o[3][1]]\n      });\n    }\n\n    if (e && 2 === e.length) {\n      const t = s.maxRandomnessOffset;\n      n.push({\n        op: \"lineTo\",\n        data: [e[0] + a(t, s), e[1] + a(t, s)]\n      });\n    }\n  } else 3 === i ? (n.push({\n    op: \"move\",\n    data: [t[1][0], t[1][1]]\n  }), n.push({\n    op: \"bcurveTo\",\n    data: [t[1][0], t[1][1], t[2][0], t[2][1], t[2][0], t[2][1]]\n  })) : 2 === i && n.push(...c(t[0][0], t[0][1], t[1][0], t[1][1], s));\n\n  return n;\n}\n\nfunction l(t, e, s, i, n, o, r, h) {\n  const c = [],\n        u = [],\n        f = a(.5, h) - Math.PI / 2;\n  u.push([a(o, h) + e + .9 * i * Math.cos(f - t), a(o, h) + s + .9 * n * Math.sin(f - t)]);\n\n  for (let r = f; r < 2 * Math.PI + f - .01; r += t) {\n    const t = [a(o, h) + e + i * Math.cos(r), a(o, h) + s + n * Math.sin(r)];\n    c.push(t), u.push(t);\n  }\n\n  return u.push([a(o, h) + e + i * Math.cos(f + 2 * Math.PI + .5 * r), a(o, h) + s + n * Math.sin(f + 2 * Math.PI + .5 * r)]), u.push([a(o, h) + e + .98 * i * Math.cos(f + r), a(o, h) + s + .98 * n * Math.sin(f + r)]), u.push([a(o, h) + e + .9 * i * Math.cos(f + .5 * r), a(o, h) + s + .9 * n * Math.sin(f + .5 * r)]), [u, c];\n}\n\nfunction g(t, e) {\n  return {\n    maxRandomnessOffset: 2,\n    roughness: \"highlight\" === t ? 3 : 1.5,\n    bowing: 1,\n    stroke: \"#000\",\n    strokeWidth: 1.5,\n    curveTightness: 0,\n    curveFitting: .95,\n    curveStepCount: 9,\n    fillStyle: \"hachure\",\n    fillWeight: -1,\n    hachureAngle: -41,\n    hachureGap: -1,\n    dashOffset: -1,\n    dashGap: -1,\n    zigzagOffset: -1,\n    combineNestedSvgPaths: !1,\n    disableMultiStroke: \"double\" !== t,\n    disableMultiStrokeFill: !1,\n    seed: e\n  };\n}\n\nfunction d(e, r, h, a, c, u) {\n  const f = [];\n  let l = h.strokeWidth || 2;\n\n  const d = function (t) {\n    const e = t.padding;\n\n    if (e || 0 === e) {\n      if (\"number\" == typeof e) return [e, e, e, e];\n\n      if (Array.isArray(e)) {\n        const t = e;\n        if (t.length) switch (t.length) {\n          case 4:\n            return [...t];\n\n          case 1:\n            return [t[0], t[0], t[0], t[0]];\n\n          case 2:\n            return [...t, ...t];\n\n          case 3:\n            return [...t, t[1]];\n\n          default:\n            return [t[0], t[1], t[2], t[3]];\n        }\n      }\n    }\n\n    return [5, 5, 5, 5];\n  }(h),\n        p = void 0 === h.animate || !!h.animate,\n        _ = h.iterations || 2,\n        m = g(\"single\", u);\n\n  switch (h.type) {\n    case \"underline\":\n      {\n        const t = r.y + r.h + d[2];\n\n        for (let e = 0; e < _; e++) e % 2 ? f.push(s(r.x + r.w, t, r.x, t, m)) : f.push(s(r.x, t, r.x + r.w, t, m));\n\n        break;\n      }\n\n    case \"strike-through\":\n      {\n        const t = r.y + r.h / 2;\n\n        for (let e = 0; e < _; e++) e % 2 ? f.push(s(r.x + r.w, t, r.x, t, m)) : f.push(s(r.x, t, r.x + r.w, t, m));\n\n        break;\n      }\n\n    case \"box\":\n      {\n        const t = r.x - d[3],\n              e = r.y - d[0],\n              s = r.w + (d[1] + d[3]),\n              i = r.h + (d[0] + d[2]);\n\n        for (let o = 0; o < _; o++) f.push(n(t, e, s, i, m));\n\n        break;\n      }\n\n    case \"bracket\":\n      {\n        const t = Array.isArray(h.brackets) ? h.brackets : h.brackets ? [h.brackets] : [\"right\"],\n              e = r.x - 2 * d[3],\n              s = r.x + r.w + 2 * d[1],\n              n = r.y - 2 * d[0],\n              o = r.y + r.h + 2 * d[2];\n\n        for (const h of t) {\n          let t;\n\n          switch (h) {\n            case \"bottom\":\n              t = [[e, r.y + r.h], [e, o], [s, o], [s, r.y + r.h]];\n              break;\n\n            case \"top\":\n              t = [[e, r.y], [e, n], [s, n], [s, r.y]];\n              break;\n\n            case \"left\":\n              t = [[r.x, n], [e, n], [e, o], [r.x, o]];\n              break;\n\n            case \"right\":\n              t = [[r.x + r.w, n], [s, n], [s, o], [r.x + r.w, o]];\n          }\n\n          t && f.push(i(t, !1, m));\n        }\n\n        break;\n      }\n\n    case \"crossed-off\":\n      {\n        const t = r.x,\n              e = r.y,\n              i = t + r.w,\n              n = e + r.h;\n\n        for (let o = 0; o < _; o++) o % 2 ? f.push(s(i, n, t, e, m)) : f.push(s(t, e, i, n, m));\n\n        for (let o = 0; o < _; o++) o % 2 ? f.push(s(t, n, i, e, m)) : f.push(s(i, e, t, n, m));\n\n        break;\n      }\n\n    case \"circle\":\n      {\n        const t = g(\"double\", u),\n              e = r.w + (d[1] + d[3]),\n              s = r.h + (d[0] + d[2]),\n              i = r.x - d[3] + e / 2,\n              n = r.y - d[0] + s / 2,\n              h = Math.floor(_ / 2),\n              a = _ - 2 * h;\n\n        for (let r = 0; r < h; r++) f.push(o(i, n, e, s, t));\n\n        for (let t = 0; t < a; t++) f.push(o(i, n, e, s, m));\n\n        break;\n      }\n\n    case \"highlight\":\n      {\n        const t = g(\"highlight\", u);\n        l = .95 * r.h;\n        const e = r.y + r.h / 2;\n\n        for (let i = 0; i < _; i++) i % 2 ? f.push(s(r.x + r.w, e, r.x, e, t)) : f.push(s(r.x, e, r.x + r.w, e, t));\n\n        break;\n      }\n  }\n\n  if (f.length) {\n    const s = function (t) {\n      const e = [];\n\n      for (const s of t) {\n        let t = \"\";\n\n        for (const i of s.ops) {\n          const s = i.data;\n\n          switch (i.op) {\n            case \"move\":\n              t.trim() && e.push(t.trim()), t = `M${s[0]} ${s[1]} `;\n              break;\n\n            case \"bcurveTo\":\n              t += `C${s[0]} ${s[1]}, ${s[2]} ${s[3]}, ${s[4]} ${s[5]} `;\n              break;\n\n            case \"lineTo\":\n              t += `L${s[0]} ${s[1]} `;\n          }\n        }\n\n        t.trim() && e.push(t.trim());\n      }\n\n      return e;\n    }(f),\n          i = [],\n          n = [];\n\n    let o = 0;\n\n    const r = (t, e, s) => t.setAttribute(e, s);\n\n    for (const a of s) {\n      const s = document.createElementNS(t, \"path\");\n\n      if (r(s, \"d\", a), r(s, \"fill\", \"none\"), r(s, \"stroke\", h.color || \"currentColor\"), r(s, \"stroke-width\", \"\" + l), p) {\n        const t = s.getTotalLength();\n        i.push(t), o += t;\n      }\n\n      e.appendChild(s), n.push(s);\n    }\n\n    if (p) {\n      let t = 0;\n\n      for (let e = 0; e < n.length; e++) {\n        const s = n[e],\n              r = i[e],\n              h = o ? c * (r / o) : 0,\n              u = a + t,\n              f = s.style;\n        f.strokeDashoffset = \"\" + r, f.strokeDasharray = \"\" + r, f.animation = `rough-notation-dash ${h}ms ease-out ${u}ms forwards`, t += h;\n      }\n    }\n  }\n}\n\nclass p {\n  constructor(t, e) {\n    this._state = \"unattached\", this._resizing = !1, this._seed = Math.floor(Math.random() * 2 ** 31), this._lastSizes = [], this._animationDelay = 0, this._resizeListener = () => {\n      this._resizing || (this._resizing = !0, setTimeout(() => {\n        this._resizing = !1, \"showing\" === this._state && this.haveRectsChanged() && this.show();\n      }, 400));\n    }, this._e = t, this._config = JSON.parse(JSON.stringify(e)), this.attach();\n  }\n\n  get animate() {\n    return this._config.animate;\n  }\n\n  set animate(t) {\n    this._config.animate = t;\n  }\n\n  get animationDuration() {\n    return this._config.animationDuration;\n  }\n\n  set animationDuration(t) {\n    this._config.animationDuration = t;\n  }\n\n  get iterations() {\n    return this._config.iterations;\n  }\n\n  set iterations(t) {\n    this._config.iterations = t;\n  }\n\n  get color() {\n    return this._config.color;\n  }\n\n  set color(t) {\n    this._config.color !== t && (this._config.color = t, this.refresh());\n  }\n\n  get strokeWidth() {\n    return this._config.strokeWidth;\n  }\n\n  set strokeWidth(t) {\n    this._config.strokeWidth !== t && (this._config.strokeWidth = t, this.refresh());\n  }\n\n  get padding() {\n    return this._config.padding;\n  }\n\n  set padding(t) {\n    this._config.padding !== t && (this._config.padding = t, this.refresh());\n  }\n\n  attach() {\n    if (\"unattached\" === this._state && this._e.parentElement) {\n      !function () {\n        if (!window.__rno_kf_s) {\n          const t = window.__rno_kf_s = document.createElement(\"style\");\n          t.textContent = \"@keyframes rough-notation-dash { to { stroke-dashoffset: 0; } }\", document.head.appendChild(t);\n        }\n      }();\n      const e = this._svg = document.createElementNS(t, \"svg\");\n      e.setAttribute(\"class\", \"rough-annotation\");\n      const s = e.style;\n      s.position = \"absolute\", s.top = \"0\", s.left = \"0\", s.overflow = \"visible\", s.pointerEvents = \"none\", s.width = \"100px\", s.height = \"100px\";\n      const i = \"highlight\" === this._config.type;\n\n      if (this._e.insertAdjacentElement(i ? \"beforebegin\" : \"afterend\", e), this._state = \"not-showing\", i) {\n        const t = window.getComputedStyle(this._e).position;\n        (!t || \"static\" === t) && (this._e.style.position = \"relative\");\n      }\n\n      this.attachListeners();\n    }\n  }\n\n  detachListeners() {\n    window.removeEventListener(\"resize\", this._resizeListener), this._ro && this._ro.unobserve(this._e);\n  }\n\n  attachListeners() {\n    this.detachListeners(), window.addEventListener(\"resize\", this._resizeListener, {\n      passive: !0\n    }), !this._ro && \"ResizeObserver\" in window && (this._ro = new window.ResizeObserver(t => {\n      for (const e of t) e.contentRect && this._resizeListener();\n    })), this._ro && this._ro.observe(this._e);\n  }\n\n  haveRectsChanged() {\n    if (this._lastSizes.length) {\n      const t = this.rects();\n      if (t.length !== this._lastSizes.length) return !0;\n\n      for (let e = 0; e < t.length; e++) if (!this.isSameRect(t[e], this._lastSizes[e])) return !0;\n    }\n\n    return !1;\n  }\n\n  isSameRect(t, e) {\n    const s = (t, e) => Math.round(t) === Math.round(e);\n\n    return s(t.x, e.x) && s(t.y, e.y) && s(t.w, e.w) && s(t.h, e.h);\n  }\n\n  isShowing() {\n    return \"not-showing\" !== this._state;\n  }\n\n  refresh() {\n    this.isShowing() && !this.pendingRefresh && (this.pendingRefresh = Promise.resolve().then(() => {\n      this.isShowing() && this.show(), delete this.pendingRefresh;\n    }));\n  }\n\n  show() {\n    switch (this._state) {\n      case \"unattached\":\n        break;\n\n      case \"showing\":\n        this.hide(), this._svg && this.render(this._svg, !0);\n        break;\n\n      case \"not-showing\":\n        this.attach(), this._svg && this.render(this._svg, !1);\n    }\n  }\n\n  hide() {\n    if (this._svg) for (; this._svg.lastChild;) this._svg.removeChild(this._svg.lastChild);\n    this._state = \"not-showing\";\n  }\n\n  remove() {\n    this._svg && this._svg.parentElement && this._svg.parentElement.removeChild(this._svg), this._svg = void 0, this._state = \"unattached\", this.detachListeners();\n  }\n\n  render(t, e) {\n    let s = this._config;\n    e && (s = JSON.parse(JSON.stringify(this._config)), s.animate = !1);\n    const i = this.rects();\n    let n = 0;\n    i.forEach(t => n += t.w);\n    const o = s.animationDuration || 800;\n    let r = 0;\n\n    for (let e = 0; e < i.length; e++) {\n      const h = o * (i[e].w / n);\n      d(t, i[e], s, r + this._animationDelay, h, this._seed), r += h;\n    }\n\n    this._lastSizes = i, this._state = \"showing\";\n  }\n\n  rects() {\n    const t = [];\n    if (this._svg) if (this._config.multiline) {\n      const e = this._e.getClientRects();\n\n      for (let s = 0; s < e.length; s++) t.push(this.svgRect(this._svg, e[s]));\n    } else t.push(this.svgRect(this._svg, this._e.getBoundingClientRect()));\n    return t;\n  }\n\n  svgRect(t, e) {\n    const s = t.getBoundingClientRect(),\n          i = e;\n    return {\n      x: (i.x || i.left) - (s.x || s.left),\n      y: (i.y || i.top) - (s.y || s.top),\n      w: i.width,\n      h: i.height\n    };\n  }\n\n}\n\nfunction _(t, e) {\n  return new p(t, e);\n}\n\nfunction m(t) {\n  let e = 0;\n\n  for (const s of t) {\n    const t = s;\n    t._animationDelay = e;\n    e += 0 === t.animationDuration ? 0 : t.animationDuration || 800;\n  }\n\n  const s = [...t];\n  return {\n    show() {\n      for (const t of s) t.show();\n    },\n\n    hide() {\n      for (const t of s) t.hide();\n    }\n\n  };\n}\n\nexport { _ as annotate, m as annotationGroup };","map":{"version":3,"sources":["/home/cathy/love-diary.anyday.com.tw/Love-Diary/node_modules/rough-notation/lib/rough-notation.esm.js"],"names":["t","e","constructor","seed","next","Math","imul","random","s","i","n","type","ops","c","length","push","o","l","increment","rx","ry","h","r","f","disableMultiStroke","concat","estimatedPoints","opset","sqrt","PI","pow","max","curveStepCount","abs","curveFitting","a","randomizer","roughness","disableMultiStrokeFill","u","maxRandomnessOffset","g","d","p","bowing","_","m","w","v","op","data","curveTightness","cos","sin","stroke","strokeWidth","fillStyle","fillWeight","hachureAngle","hachureGap","dashOffset","dashGap","zigzagOffset","combineNestedSvgPaths","padding","Array","isArray","animate","iterations","y","x","brackets","floor","trim","setAttribute","document","createElementNS","color","getTotalLength","appendChild","style","strokeDashoffset","strokeDasharray","animation","_state","_resizing","_seed","_lastSizes","_animationDelay","_resizeListener","setTimeout","haveRectsChanged","show","_e","_config","JSON","parse","stringify","attach","animationDuration","refresh","parentElement","window","__rno_kf_s","createElement","textContent","head","_svg","position","top","left","overflow","pointerEvents","width","height","insertAdjacentElement","getComputedStyle","attachListeners","detachListeners","removeEventListener","_ro","unobserve","addEventListener","passive","ResizeObserver","contentRect","observe","rects","isSameRect","round","isShowing","pendingRefresh","Promise","resolve","then","hide","render","lastChild","removeChild","remove","forEach","multiline","getClientRects","svgRect","getBoundingClientRect","annotate","annotationGroup"],"mappings":"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","sourcesContent":["const t=\"http://www.w3.org/2000/svg\";class e{constructor(t){this.seed=t}next(){return this.seed?(2**31-1&(this.seed=Math.imul(48271,this.seed)))/2**31:Math.random()}}function s(t,e,s,i,n){return{type:\"path\",ops:c(t,e,s,i,n)}}function i(t,e,i){const n=(t||[]).length;if(n>2){const s=[];for(let e=0;e<n-1;e++)s.push(...c(t[e][0],t[e][1],t[e+1][0],t[e+1][1],i));return e&&s.push(...c(t[n-1][0],t[n-1][1],t[0][0],t[0][1],i)),{type:\"path\",ops:s}}return 2===n?s(t[0][0],t[0][1],t[1][0],t[1][1],i):{type:\"path\",ops:[]}}function n(t,e,s,n,o){return function(t,e){return i(t,!0,e)}([[t,e],[t+s,e],[t+s,e+n],[t,e+n]],o)}function o(t,e,s,i,n){return function(t,e,s,i){const[n,o]=l(i.increment,t,e,i.rx,i.ry,1,i.increment*h(.1,h(.4,1,s),s),s);let r=f(n,null,s);if(!s.disableMultiStroke){const[n]=l(i.increment,t,e,i.rx,i.ry,1.5,0,s),o=f(n,null,s);r=r.concat(o)}return{estimatedPoints:o,opset:{type:\"path\",ops:r}}}(t,e,n,function(t,e,s){const i=Math.sqrt(2*Math.PI*Math.sqrt((Math.pow(t/2,2)+Math.pow(e/2,2))/2)),n=Math.max(s.curveStepCount,s.curveStepCount/Math.sqrt(200)*i),o=2*Math.PI/n;let r=Math.abs(t/2),h=Math.abs(e/2);const c=1-s.curveFitting;return r+=a(r*c,s),h+=a(h*c,s),{increment:o,rx:r,ry:h}}(s,i,n)).opset}function r(t){return t.randomizer||(t.randomizer=new e(t.seed||0)),t.randomizer.next()}function h(t,e,s,i=1){return s.roughness*i*(r(s)*(e-t)+t)}function a(t,e,s=1){return h(-t,t,e,s)}function c(t,e,s,i,n,o=!1){const r=o?n.disableMultiStrokeFill:n.disableMultiStroke,h=u(t,e,s,i,n,!0,!1);if(r)return h;const a=u(t,e,s,i,n,!0,!0);return h.concat(a)}function u(t,e,s,i,n,o,h){const c=Math.pow(t-s,2)+Math.pow(e-i,2),u=Math.sqrt(c);let f=1;f=u<200?1:u>500?.4:-.0016668*u+1.233334;let l=n.maxRandomnessOffset||0;l*l*100>c&&(l=u/10);const g=l/2,d=.2+.2*r(n);let p=n.bowing*n.maxRandomnessOffset*(i-e)/200,_=n.bowing*n.maxRandomnessOffset*(t-s)/200;p=a(p,n,f),_=a(_,n,f);const m=[],w=()=>a(g,n,f),v=()=>a(l,n,f);return o&&(h?m.push({op:\"move\",data:[t+w(),e+w()]}):m.push({op:\"move\",data:[t+a(l,n,f),e+a(l,n,f)]})),h?m.push({op:\"bcurveTo\",data:[p+t+(s-t)*d+w(),_+e+(i-e)*d+w(),p+t+2*(s-t)*d+w(),_+e+2*(i-e)*d+w(),s+w(),i+w()]}):m.push({op:\"bcurveTo\",data:[p+t+(s-t)*d+v(),_+e+(i-e)*d+v(),p+t+2*(s-t)*d+v(),_+e+2*(i-e)*d+v(),s+v(),i+v()]}),m}function f(t,e,s){const i=t.length,n=[];if(i>3){const o=[],r=1-s.curveTightness;n.push({op:\"move\",data:[t[1][0],t[1][1]]});for(let e=1;e+2<i;e++){const s=t[e];o[0]=[s[0],s[1]],o[1]=[s[0]+(r*t[e+1][0]-r*t[e-1][0])/6,s[1]+(r*t[e+1][1]-r*t[e-1][1])/6],o[2]=[t[e+1][0]+(r*t[e][0]-r*t[e+2][0])/6,t[e+1][1]+(r*t[e][1]-r*t[e+2][1])/6],o[3]=[t[e+1][0],t[e+1][1]],n.push({op:\"bcurveTo\",data:[o[1][0],o[1][1],o[2][0],o[2][1],o[3][0],o[3][1]]})}if(e&&2===e.length){const t=s.maxRandomnessOffset;n.push({op:\"lineTo\",data:[e[0]+a(t,s),e[1]+a(t,s)]})}}else 3===i?(n.push({op:\"move\",data:[t[1][0],t[1][1]]}),n.push({op:\"bcurveTo\",data:[t[1][0],t[1][1],t[2][0],t[2][1],t[2][0],t[2][1]]})):2===i&&n.push(...c(t[0][0],t[0][1],t[1][0],t[1][1],s));return n}function l(t,e,s,i,n,o,r,h){const c=[],u=[],f=a(.5,h)-Math.PI/2;u.push([a(o,h)+e+.9*i*Math.cos(f-t),a(o,h)+s+.9*n*Math.sin(f-t)]);for(let r=f;r<2*Math.PI+f-.01;r+=t){const t=[a(o,h)+e+i*Math.cos(r),a(o,h)+s+n*Math.sin(r)];c.push(t),u.push(t)}return u.push([a(o,h)+e+i*Math.cos(f+2*Math.PI+.5*r),a(o,h)+s+n*Math.sin(f+2*Math.PI+.5*r)]),u.push([a(o,h)+e+.98*i*Math.cos(f+r),a(o,h)+s+.98*n*Math.sin(f+r)]),u.push([a(o,h)+e+.9*i*Math.cos(f+.5*r),a(o,h)+s+.9*n*Math.sin(f+.5*r)]),[u,c]}function g(t,e){return{maxRandomnessOffset:2,roughness:\"highlight\"===t?3:1.5,bowing:1,stroke:\"#000\",strokeWidth:1.5,curveTightness:0,curveFitting:.95,curveStepCount:9,fillStyle:\"hachure\",fillWeight:-1,hachureAngle:-41,hachureGap:-1,dashOffset:-1,dashGap:-1,zigzagOffset:-1,combineNestedSvgPaths:!1,disableMultiStroke:\"double\"!==t,disableMultiStrokeFill:!1,seed:e}}function d(e,r,h,a,c,u){const f=[];let l=h.strokeWidth||2;const d=function(t){const e=t.padding;if(e||0===e){if(\"number\"==typeof e)return[e,e,e,e];if(Array.isArray(e)){const t=e;if(t.length)switch(t.length){case 4:return[...t];case 1:return[t[0],t[0],t[0],t[0]];case 2:return[...t,...t];case 3:return[...t,t[1]];default:return[t[0],t[1],t[2],t[3]]}}}return[5,5,5,5]}(h),p=void 0===h.animate||!!h.animate,_=h.iterations||2,m=g(\"single\",u);switch(h.type){case\"underline\":{const t=r.y+r.h+d[2];for(let e=0;e<_;e++)e%2?f.push(s(r.x+r.w,t,r.x,t,m)):f.push(s(r.x,t,r.x+r.w,t,m));break}case\"strike-through\":{const t=r.y+r.h/2;for(let e=0;e<_;e++)e%2?f.push(s(r.x+r.w,t,r.x,t,m)):f.push(s(r.x,t,r.x+r.w,t,m));break}case\"box\":{const t=r.x-d[3],e=r.y-d[0],s=r.w+(d[1]+d[3]),i=r.h+(d[0]+d[2]);for(let o=0;o<_;o++)f.push(n(t,e,s,i,m));break}case\"bracket\":{const t=Array.isArray(h.brackets)?h.brackets:h.brackets?[h.brackets]:[\"right\"],e=r.x-2*d[3],s=r.x+r.w+2*d[1],n=r.y-2*d[0],o=r.y+r.h+2*d[2];for(const h of t){let t;switch(h){case\"bottom\":t=[[e,r.y+r.h],[e,o],[s,o],[s,r.y+r.h]];break;case\"top\":t=[[e,r.y],[e,n],[s,n],[s,r.y]];break;case\"left\":t=[[r.x,n],[e,n],[e,o],[r.x,o]];break;case\"right\":t=[[r.x+r.w,n],[s,n],[s,o],[r.x+r.w,o]]}t&&f.push(i(t,!1,m))}break}case\"crossed-off\":{const t=r.x,e=r.y,i=t+r.w,n=e+r.h;for(let o=0;o<_;o++)o%2?f.push(s(i,n,t,e,m)):f.push(s(t,e,i,n,m));for(let o=0;o<_;o++)o%2?f.push(s(t,n,i,e,m)):f.push(s(i,e,t,n,m));break}case\"circle\":{const t=g(\"double\",u),e=r.w+(d[1]+d[3]),s=r.h+(d[0]+d[2]),i=r.x-d[3]+e/2,n=r.y-d[0]+s/2,h=Math.floor(_/2),a=_-2*h;for(let r=0;r<h;r++)f.push(o(i,n,e,s,t));for(let t=0;t<a;t++)f.push(o(i,n,e,s,m));break}case\"highlight\":{const t=g(\"highlight\",u);l=.95*r.h;const e=r.y+r.h/2;for(let i=0;i<_;i++)i%2?f.push(s(r.x+r.w,e,r.x,e,t)):f.push(s(r.x,e,r.x+r.w,e,t));break}}if(f.length){const s=function(t){const e=[];for(const s of t){let t=\"\";for(const i of s.ops){const s=i.data;switch(i.op){case\"move\":t.trim()&&e.push(t.trim()),t=`M${s[0]} ${s[1]} `;break;case\"bcurveTo\":t+=`C${s[0]} ${s[1]}, ${s[2]} ${s[3]}, ${s[4]} ${s[5]} `;break;case\"lineTo\":t+=`L${s[0]} ${s[1]} `}}t.trim()&&e.push(t.trim())}return e}(f),i=[],n=[];let o=0;const r=(t,e,s)=>t.setAttribute(e,s);for(const a of s){const s=document.createElementNS(t,\"path\");if(r(s,\"d\",a),r(s,\"fill\",\"none\"),r(s,\"stroke\",h.color||\"currentColor\"),r(s,\"stroke-width\",\"\"+l),p){const t=s.getTotalLength();i.push(t),o+=t}e.appendChild(s),n.push(s)}if(p){let t=0;for(let e=0;e<n.length;e++){const s=n[e],r=i[e],h=o?c*(r/o):0,u=a+t,f=s.style;f.strokeDashoffset=\"\"+r,f.strokeDasharray=\"\"+r,f.animation=`rough-notation-dash ${h}ms ease-out ${u}ms forwards`,t+=h}}}}class p{constructor(t,e){this._state=\"unattached\",this._resizing=!1,this._seed=Math.floor(Math.random()*2**31),this._lastSizes=[],this._animationDelay=0,this._resizeListener=()=>{this._resizing||(this._resizing=!0,setTimeout(()=>{this._resizing=!1,\"showing\"===this._state&&this.haveRectsChanged()&&this.show()},400))},this._e=t,this._config=JSON.parse(JSON.stringify(e)),this.attach()}get animate(){return this._config.animate}set animate(t){this._config.animate=t}get animationDuration(){return this._config.animationDuration}set animationDuration(t){this._config.animationDuration=t}get iterations(){return this._config.iterations}set iterations(t){this._config.iterations=t}get color(){return this._config.color}set color(t){this._config.color!==t&&(this._config.color=t,this.refresh())}get strokeWidth(){return this._config.strokeWidth}set strokeWidth(t){this._config.strokeWidth!==t&&(this._config.strokeWidth=t,this.refresh())}get padding(){return this._config.padding}set padding(t){this._config.padding!==t&&(this._config.padding=t,this.refresh())}attach(){if(\"unattached\"===this._state&&this._e.parentElement){!function(){if(!window.__rno_kf_s){const t=window.__rno_kf_s=document.createElement(\"style\");t.textContent=\"@keyframes rough-notation-dash { to { stroke-dashoffset: 0; } }\",document.head.appendChild(t)}}();const e=this._svg=document.createElementNS(t,\"svg\");e.setAttribute(\"class\",\"rough-annotation\");const s=e.style;s.position=\"absolute\",s.top=\"0\",s.left=\"0\",s.overflow=\"visible\",s.pointerEvents=\"none\",s.width=\"100px\",s.height=\"100px\";const i=\"highlight\"===this._config.type;if(this._e.insertAdjacentElement(i?\"beforebegin\":\"afterend\",e),this._state=\"not-showing\",i){const t=window.getComputedStyle(this._e).position;(!t||\"static\"===t)&&(this._e.style.position=\"relative\")}this.attachListeners()}}detachListeners(){window.removeEventListener(\"resize\",this._resizeListener),this._ro&&this._ro.unobserve(this._e)}attachListeners(){this.detachListeners(),window.addEventListener(\"resize\",this._resizeListener,{passive:!0}),!this._ro&&\"ResizeObserver\"in window&&(this._ro=new window.ResizeObserver(t=>{for(const e of t)e.contentRect&&this._resizeListener()})),this._ro&&this._ro.observe(this._e)}haveRectsChanged(){if(this._lastSizes.length){const t=this.rects();if(t.length!==this._lastSizes.length)return!0;for(let e=0;e<t.length;e++)if(!this.isSameRect(t[e],this._lastSizes[e]))return!0}return!1}isSameRect(t,e){const s=(t,e)=>Math.round(t)===Math.round(e);return s(t.x,e.x)&&s(t.y,e.y)&&s(t.w,e.w)&&s(t.h,e.h)}isShowing(){return\"not-showing\"!==this._state}refresh(){this.isShowing()&&!this.pendingRefresh&&(this.pendingRefresh=Promise.resolve().then(()=>{this.isShowing()&&this.show(),delete this.pendingRefresh}))}show(){switch(this._state){case\"unattached\":break;case\"showing\":this.hide(),this._svg&&this.render(this._svg,!0);break;case\"not-showing\":this.attach(),this._svg&&this.render(this._svg,!1)}}hide(){if(this._svg)for(;this._svg.lastChild;)this._svg.removeChild(this._svg.lastChild);this._state=\"not-showing\"}remove(){this._svg&&this._svg.parentElement&&this._svg.parentElement.removeChild(this._svg),this._svg=void 0,this._state=\"unattached\",this.detachListeners()}render(t,e){let s=this._config;e&&(s=JSON.parse(JSON.stringify(this._config)),s.animate=!1);const i=this.rects();let n=0;i.forEach(t=>n+=t.w);const o=s.animationDuration||800;let r=0;for(let e=0;e<i.length;e++){const h=o*(i[e].w/n);d(t,i[e],s,r+this._animationDelay,h,this._seed),r+=h}this._lastSizes=i,this._state=\"showing\"}rects(){const t=[];if(this._svg)if(this._config.multiline){const e=this._e.getClientRects();for(let s=0;s<e.length;s++)t.push(this.svgRect(this._svg,e[s]))}else t.push(this.svgRect(this._svg,this._e.getBoundingClientRect()));return t}svgRect(t,e){const s=t.getBoundingClientRect(),i=e;return{x:(i.x||i.left)-(s.x||s.left),y:(i.y||i.top)-(s.y||s.top),w:i.width,h:i.height}}}function _(t,e){return new p(t,e)}function m(t){let e=0;for(const s of t){const t=s;t._animationDelay=e;e+=0===t.animationDuration?0:t.animationDuration||800}const s=[...t];return{show(){for(const t of s)t.show()},hide(){for(const t of s)t.hide()}}}export{_ as annotate,m as annotationGroup};\n"]},"metadata":{},"sourceType":"module"}